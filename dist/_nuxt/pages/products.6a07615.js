(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{217:function(t,e,r){var content=r(228);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(9).default)("69e96331",content,!0,{sourceMap:!1})},227:function(t,e,r){"use strict";var l=r(217);r.n(l).a},228:function(t,e,r){(e=r(8)(!1)).push([t.i,".index>div[data-v-0166aa9f]{margin-bottom:6.25rem}.index>div.search[data-v-0166aa9f]{margin-bottom:2.1875rem}.all_filters[data-v-0166aa9f]{bottom:0;max-height:0;transform:translateY(50%);overflow:hidden;transition:.3s}.all_filters.active[data-v-0166aa9f]{max-height:100vh;transform:translateY(100%)}.all_filters .filt[data-v-0166aa9f]{transition:.3s;cursor:pointer}.all_filters .filt[data-v-0166aa9f]:hover{box-shadow:5px 5px 20px rgba(0,0,0,.25)}",""]),t.exports=e},243:function(t,e,r){"use strict";r.r(e);r(72),r(27),r(28),r(50),r(29),r(30),r(16),r(126);var l=r(34);r(212),r(31),r(89);function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var o={data:function(){return{filter_show:!1,def_filter:{},title:"",current_categoryes:[],categoryes:[],filter:{id:1,img:"tenge_up.svg",text:"по возрастанию цены"},filters:[{id:1,img:"tenge_up.svg",text:"по возрастанию цены"},{id:2,img:"tenge_down.svg",text:"по убыванию цены"},{id:3,img:"alphabet_down.svg",text:"A-Z"},{id:4,img:"alphabet_up.svg",text:"Z-A"}],products:[],limit:10,page:1,pagination:{},price:[0,0],type:"default",formatter:function(t){return"".concat((""+t).replace(/\B(?=(\d{3})+(?!\d))/g," "))}}},computed:{getTypeName:function(){var t="";switch(this.type){case"default":t="Показать плитками";break;case"plits":t="Показать списком"}return t}},watch:{page:function(){this.getProducts()},filter:function(){this.getProducts()},price:function(){this.getProducts()},categoryes:{handler:function(t){var e=this;this.current_categoryes=[],t.forEach((function(t){t.active&&e.current_categoryes.push(t)})),this.current_categoryes.legth||(this.current_categoryes=JSON.parse(JSON.stringify(t))),this.getProducts()},deep:!0},$route:function(t){this.getProducts(),this.getTitle(),t.query.categoryes&&this.getSubCategoryes()}},created:function(){this.getProducts(),this.getTitle(),this.$route.query.categoryes&&this.getSubCategoryes()},methods:{getTitle:function(){var t=this;this.$route.query.categoryes?this.$axios.get("/category").then((function(e){t.title=e.data.category.find((function(e){return e.id==t.$route.query.categoryes})).name})):this.title=""},getSubCategoryes:function(){var t=this;this.$axios.get("/category/"+this.$route.query.categoryes).then((function(e){t.categoryes=e.data.category.map((function(t){return c(c({},t),{},{active:!1})}))||[],console.log(t.categoryes)}))},changeFilter:function(t){this.def_filter.id&&t&&(this.filter_show=!1,this.filter=this.def_filter),this.def_filter={}},changeType:function(){"default"===this.type?this.type="plits":"plits"===this.type&&(this.type="default")},getProducts:function(){var t=this;if(this.$route.query.search)this.$axios.get("https://back.amanz.kz/api/search?q="+this.$route.query.search).then((function(e){t.products=e.data.product.map((function(t){return c(c({},t),{},{current:1})}))}));else{var filter=this.current_categoryes.map((function(t){return{type:"category_id",value:t.id.toString()}}));(this.price[0]||this.price[1])&&filter.push({type:"price",value:this.price[0]+"-"+this.price[1]}),this.$axios.post("products",{pagination:{limit:this.limit,page:this.page},filter:filter}).then((function(e){t.products=e.data.product.map((function(t){return c(c({},t),{},{current:1})})),t.pagination=e.data.pagination}))}}}},f=(r(227),r(5)),component=Object(f.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"index flex-col justify-start pt-0"},[r("div",{staticClass:"search bg-$blue_d pt-10 pb-12 w-full"},[r("div",{staticClass:"content flex-col items-start"},[r("h1",{staticClass:"content-title text-white m-0"},[r("span",{staticClass:"text-2.5"},[t._v(t._s(t.title))])])])]),t._v(" "),r("div",{staticClass:"flex flex-col w-full"},[r("div",{staticClass:"content flex-col items-start"},[t.$route.query.search&&t.products.length?r("div",{staticClass:"flex justify-start w-full text-1.75"},[r("span",[t._v("\n          Найдено "+t._s(t.pagination.count)+" результатов по запросу\n          "),r("strong",[t._v("“"+t._s(t.$route.query.search)+"”")])])]):t._e(),t._v(" "),r("div",{staticClass:"flex flex-row items-start w-full mt-16"},[r("div",{staticClass:"flex flex-col",class:t.$route.query.search?"w-full":"w-2/3"},[t.products.length?r("div",{staticClass:"flex flex-row w-full mb-4 justify-between"},[r("div",{staticClass:"flex flex-row w-full"},[r("div",{staticClass:"flex relative cursor-pointer bg-white py-4 justify-start px-5 text-$blue_d hover:text-primary stroke-current",class:t.filter_show?"w-full rounded-t-15":"rounded-15 w-2/3",on:{click:function(e){t.filter_show=!t.filter_show}}},[r("span",{staticClass:"mr-1 font-medium"},[t._v("Фильтр ")]),t._v(" "),r("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"inherit",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M7.99967 14.6663C11.6816 14.6663 14.6663 11.6816 14.6663 7.99967C14.6663 4.31778 11.6816 1.33301 7.99967 1.33301C4.31778 1.33301 1.33301 4.31778 1.33301 7.99967C1.33301 11.6816 4.31778 14.6663 7.99967 14.6663Z",stroke:"inherit","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),t._v(" "),r("path",{attrs:{d:"M5.33301 7.33301L7.99967 9.99967L10.6663 7.33301",stroke:"inherit","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]),t._v(" "),r("div",{staticClass:"all_filters absolute w-full left-0",class:{active:t.filter_show},on:{click:function(t){t.stopPropagation()}}},[r("div",{staticClass:"flex-col p-5 bg-white rounded-b-15 w-full cursor-default"},[r("div",{staticClass:"flex flex-row w-full justify-between mb-12"},t._l(t.filters,(function(e){return r("div",{key:e.id,staticClass:"filt border-2 rounded-15 p-3 flex flex-row text-$blue_d hover:text-primary whitespace-no-wrap",class:t.filter.id===e.id||t.def_filter.id===e.id?"border-primary":"border-transparent",on:{click:function(r){t.def_filter=e}}},[r("img",{staticClass:"mr-4",attrs:{src:e.img}}),t._v(" "),r("span",{class:e.id>=3?"font-medium text-lg":"font-normal text-14"},[t._v("\n                          "+t._s(e.text)+"\n                        ")])])})),0),t._v(" "),r("div",{staticClass:"flex flex-row justify-end w-full"},[r("button",{staticClass:"text-$error mr-7",on:{click:function(e){return t.changeFilter(!1)}}},[t._v("\n                        Сбросить\n                      ")]),t._v(" "),r("button",{staticClass:"rounded-12 py-2 px-12 text-white",class:t.def_filter.id?"bg-primary":"bg-A9",on:{click:function(e){return t.changeFilter(!0)}}},[t._v("\n                        Применить\n                      ")])])])])]),t._v(" "),t.filter_show?t._e():r("div",{staticClass:"flex flex-row bg-white rounded-15 py-4 justify-start px-5 w-1/3 text-$blue_d hover:text-primary cursor-pointer ml-8",class:{"stroke-current":"default"===t.type,"stroke-current fill-current":"plits"===t.type},on:{click:function(e){return t.changeType()}}},["default"===t.type?r("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"inherit",xmlns:"http://www.w3.org/2000/svg"}},[r("rect",{attrs:{x:"2.5",y:"2.5",width:"8",height:"6",rx:"2",stroke:"inherit","stroke-width":"1.8"}}),t._v(" "),r("rect",{attrs:{x:"13.5",y:"2.5",width:"8",height:"10",rx:"2",stroke:"inherit","stroke-width":"1.8"}}),t._v(" "),r("rect",{attrs:{x:"2.5",y:"11.5",width:"8",height:"10",rx:"2",stroke:"inherit","stroke-width":"1.8"}}),t._v(" "),r("rect",{attrs:{x:"13.5",y:"15.5",width:"8",height:"6",rx:"2",stroke:"inherit","stroke-width":"1.8"}})]):t._e(),t._v(" "),"plits"===t.type?r("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"inherit",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M22 7.4C22.4971 7.4 22.9 6.99706 22.9 6.5C22.9 6.00294 22.4971 5.6 22 5.6L22 7.4ZM9 5.6C8.50294 5.6 8.1 6.00294 8.1 6.5C8.1 6.99706 8.50294 7.4 9 7.4L9 5.6ZM22 5.6L9 5.6L9 7.4L22 7.4L22 5.6Z",fill:"inherit"}}),t._v(" "),r("path",{attrs:{d:"M22 12.9C22.4971 12.9 22.9 12.4971 22.9 12C22.9 11.5029 22.4971 11.1 22 11.1L22 12.9ZM9 11.1C8.50294 11.1 8.1 11.5029 8.1 12C8.1 12.4971 8.50294 12.9 9 12.9L9 11.1ZM22 11.1L9 11.1L9 12.9L22 12.9L22 11.1Z",fill:"inherit"}}),t._v(" "),r("path",{attrs:{d:"M22 18.4C22.4971 18.4 22.9 17.9971 22.9 17.5C22.9 17.0029 22.4971 16.6 22 16.6L22 18.4ZM9 16.6C8.50294 16.6 8.1 17.0029 8.1 17.5C8.1 17.9971 8.50294 18.4 9 18.4L9 16.6ZM22 16.6L9 16.6L9 18.4L22 18.4L22 16.6Z",fill:"inherit"}}),t._v(" "),r("circle",{attrs:{cx:"4",cy:"6.5",r:"1",stroke:"inherit","stroke-width":"2"}}),t._v(" "),r("circle",{attrs:{cx:"4",cy:"12",r:"1",stroke:"inherit","stroke-width":"2"}}),t._v(" "),r("circle",{attrs:{cx:"4",cy:"17.5",r:"1",stroke:"inherit","stroke-width":"2"}})]):t._e(),t._v(" "),r("span",[t._v(t._s(t.getTypeName))])])])]):t._e(),t._v(" "),t.products.length?r("div",{staticClass:"flex w-full",class:{"flex-row flex-wrap justify-start":"plits"===t.type," flex-col":"default"===t.type}},t._l(t.products,(function(e,i){return r("div",{key:e.id,staticClass:"mb-5",class:{"w-1/3":"plits"===t.type,"pr-10":"plits"===t.type&&(i+1)%3!=0,"w-full h-48":"default"===t.type}},[r("div",{staticClass:"flex w-full justify-start p-5 bg-white rounded-15",class:{"flex-col":"plits"===t.type,"flex-row":"default"===t.type}},[e.image_path?r("img",{class:{"w-full":"plits"===t.type,"w-1/5 pr-2 border-black border-l border-opacity-25":"default"===t.type},attrs:{src:e.image_path}}):r("img",{class:{"w-full":"plits"===t.type,"w-1/5":"default"===t.type},attrs:{src:"no_image.png"}}),t._v(" "),r("div",{staticClass:"flex flex-col items-start",class:{"w-full":"plits"===t.type,"w-3/5 pl-2":"default"===t.type}},[r("h2",{staticClass:"text-lg w-full",class:{truncate:"plits"===t.type}},[t._v("\n                    "+t._s(e.full_name)+"\n                  ")]),t._v(" "),r("div",{staticClass:"mt-3 block"},[r("span",{staticClass:"color-red text-gray-800"},[t._v("Артикул")]),t._v(" "),r("a",{attrs:{href:"#"}},[t._v(t._s(e.vendor_code))])]),t._v(" "),t._m(0,!0),t._v(" "),t._m(1,!0),t._v(" "),"default"===t.type?r("div",{staticClass:"mt-3 block"},[r("span",{staticClass:"color-red text-gray-800"},[t._v("\n                      Действующие вещества:\n                    ")]),t._v("\n                    Ацетилсалициловая кислота,Аскорбиновая кислота\n                  ")]):t._e()]),t._v(" "),r("div",{staticClass:"flex flex-col justify-between h-full items-center py-5",class:{"w-full":"plits"===t.type,"w-1/5":"default"===t.type}},[r("div",{staticClass:"flex w-full",class:{"flex-row":"plits"===t.type,"flex-col":"default"===t.type}},[r("v-steps",{attrs:{max:e.remainder},model:{value:e.current,callback:function(r){t.$set(e,"current",r)},expression:"product.current"}}),t._v(" "),r("div",{staticClass:"flex flex-row justify-between w-full mt-4"},[r("span",[t._v("Цена:")]),t._v(" "),r("strong",[t._v(t._s(e.price)+" KZT")])])],1),t._v(" "),r("input",{staticClass:"bg-primary text-white w-full rounded-xl mt-4 mx-2 py-2 text-xs cursor-pointer",attrs:{type:"submit",value:"Войти"}})])])])})),0):r("div",{staticClass:"flex flex-col w-full text-1.75 text-gray_d items-start"},[r("span",[t._v("\n              К сожалению, ничего не найдено по Вашему запросу\n              "),r("span",{staticClass:"font-semibold"},[t._v(t._s(t.$route.query.search?t.$route.query.search:""))])]),t._v(" "),t._m(2)])]),t._v(" "),t.$route.query.search?t._e():r("div",{staticClass:"flex flex-col mt-18 top-8 sticky px-4 w-1/3 items-start"},[r("div",{staticClass:"flex flex-col w-full bg-white rounded-15 px-3 pb-10 items-start"},[r("span",{staticClass:"mt-6 mb-5 text-lg font-medium"},[t._v("Фильтр цены")]),t._v(" "),r("span",{staticClass:"mb-7 text-lg font-medium"},[t._v("\n              "+t._s(t.price[1]&&t.price[0]!==t.price[1]?"от "+t.price[0]+"₸ до "+t.price[1]+"₸":t.price[0]+"₸")+"\n            ")]),t._v(" "),r("vue-slider",{attrs:{tooltip:"active","tooltip-placement":["top","bottom"],width:"100%","dot-size":"16",min:0,max:5e4,interval:500,"tooltip-formatter":t.formatter},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),t._v(" "),t.categoryes.length?r("div",{staticClass:"flex flex-col w-full bg-white rounded-15 px-3 py-6 mt-5 items-start"},[r("div",{staticClass:"textl-xl font-medium"},[t._v("В этой категории:")]),t._v(" "),t._l(t.categoryes,(function(e){return r("div",{key:e.id,staticClass:"flex py-2"},[r("v-radio",{attrs:{checked:e.active,title:e.name},model:{value:e.active,callback:function(r){t.$set(e,"active",r)},expression:"cat.active"}})],1)}))],2):t._e()])]),t._v(" "),t.products.length?r("div",{staticClass:"flex flex-row bg-white p-4 rounded-15 justify-between",class:t.$route.query.search?"w-full":"w-2/3"},[r("span",{staticClass:"text-14"},[t._v("\n          Показать по\n          "),r("span",{staticClass:"text-primary cursor-pointer"},[t._v(t._s(t.limit))])]),t._v(" "),r("v-pagination",{attrs:{max:t.pagination.total_pages},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e()])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-3 block"},[e("span",{staticClass:"color-red text-gray-800"},[this._v("\n                      Срок годности:\n                    ")]),this._v("\n                    3 года\n                  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-3 block"},[e("span",{staticClass:"color-red text-gray-800"},[this._v("\n                      Производитель:\n                    ")]),this._v("\n                    Байер Фарма АГ, Германия\n                  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex w-full justify-center mt-12"},[e("img",{attrs:{src:"no_find.png"}})])}],!1,null,"0166aa9f",null);e.default=component.exports}}]);